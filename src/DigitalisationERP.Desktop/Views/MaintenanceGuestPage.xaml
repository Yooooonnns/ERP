<Page x:Class="DigitalisationERP.Desktop.Views.MaintenanceGuestPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Maintenance">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,12">
            <TextBlock Text="Maintenance (visualisation)" FontSize="28" FontWeight="Bold"/>
            <TextBlock Text="Mode invité : lecture seule (interventions planifiées + travail en cours + planning équipe)." Foreground="Gray"/>
        </StackPanel>

        <!-- Week navigation -->
        <DockPanel Grid.Row="1" Margin="0,0,0,12">
            <StackPanel Orientation="Horizontal" DockPanel.Dock="Left">
                <Button Content="◀" Width="34" Height="34" Margin="0,0,8,0" Click="PrevWeek_Click"/>
                <Button Content="Aujourd'hui" Height="34" Margin="0,0,8,0" Click="Today_Click"/>
                <Button Content="▶" Width="34" Height="34" Click="NextWeek_Click"/>
            </StackPanel>
            <TextBlock x:Name="WeekRangeText" DockPanel.Dock="Right" VerticalAlignment="Center" FontWeight="SemiBold"/>
        </DockPanel>

        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Shifts (read-only) -->
            <Border Grid.Column="0" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="6" Padding="12" Margin="0,0,12,0">
                <DockPanel>
                    <TextBlock Text="Planning maintenance (lecture seule)" FontSize="16" FontWeight="SemiBold" DockPanel.Dock="Top" Margin="0,0,0,8"/>
                    <DataGrid x:Name="ShiftsGrid" AutoGenerateColumns="False" IsReadOnly="True" CanUserAddRows="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Date" Binding="{Binding Date}" Width="120"/>
                            <DataGridTextColumn Header="Employé" Binding="{Binding EmployeeId}" Width="*"/>
                            <DataGridTextColumn Header="Segment" Binding="{Binding Segment}" Width="110"/>
                            <DataGridTextColumn Header="Heures" Binding="{Binding TimeRange}" Width="110"/>
                            <DataGridTextColumn Header="Lieu" Binding="{Binding Location}" Width="120"/>
                            <DataGridTextColumn Header="Notes" Binding="{Binding Notes}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </DockPanel>
            </Border>

            <!-- Interventions -->
            <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <Border Grid.Row="0" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="6" Padding="12" Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="Interventions planifiées" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,8"/>
                        <ListBox x:Name="PlannedList"/>
                    </StackPanel>
                </Border>

                <Border Grid.Row="1" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="6" Padding="12">
                    <StackPanel>
                        <TextBlock Text="Travail en cours" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,8"/>
                        <ListBox x:Name="OngoingList"/>
                    </StackPanel>
                </Border>
            </Grid>
        </Grid>
    </Grid>
</Page>
