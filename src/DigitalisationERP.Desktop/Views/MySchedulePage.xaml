<Page x:Class="DigitalisationERP.Desktop.Views.MySchedulePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
      Title="Mon Horaire" Height="700" Width="1200">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="Mon Emploi du Temps" 
                      FontSize="28" 
                      FontWeight="Bold"
                      Margin="0,0,0,10"/>
            <TextBlock Text="Consultez vos shifts et demandez des modifications" 
                      FontSize="14" 
                      Foreground="Gray"/>
        </StackPanel>

        <!-- Week Navigation & Stats -->
        <Grid Grid.Row="1" Margin="0,0,0,20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <StackPanel Orientation="Horizontal">
                <Button Style="{StaticResource MaterialDesignIconButton}"
                        Click="PrevWeek_Click">
                    <materialDesign:PackIcon Kind="ChevronLeft"/>
                </Button>
                <TextBlock x:Name="WeekRangeText" Text="" 
                          FontSize="18" 
                          FontWeight="SemiBold"
                          VerticalAlignment="Center"
                          Margin="10,0"/>
                <Button Style="{StaticResource MaterialDesignIconButton}"
                        Click="NextWeek_Click">
                    <materialDesign:PackIcon Kind="ChevronRight"/>
                </Button>
                <Button Content="Aujourd'hui" 
                       Style="{StaticResource MaterialDesignFlatButton}"
                       Margin="15,0,0,0"
                       Click="Today_Click"/>
            </StackPanel>

            <StackPanel Grid.Column="1" Orientation="Horizontal">
                <Border Background="#E3F2FD" CornerRadius="4" Padding="15,8" Margin="0,0,10,0">
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon Kind="ClockOutline" 
                                               Width="20" 
                                               Height="20"
                                               VerticalAlignment="Center"
                                               Foreground="#2196F3"/>
                        <StackPanel Margin="10,0,0,0">
                            <TextBlock Text="Heures cette semaine" FontSize="11" Foreground="Gray"/>
                            <TextBlock x:Name="HoursThisWeekText" Text="0h00" FontSize="16" FontWeight="Bold" Foreground="#2196F3"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <Button Content="Demander CongÃ©" 
                       Style="{StaticResource MaterialDesignRaisedButton}"
                       Background="#FF9800"
                      Height="40"
                      Click="RequestLeave_Click"/>
            </StackPanel>
        </Grid>

        <!-- Calendar Grid -->
        <materialDesign:Card Grid.Row="2">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Day Headers -->
                <Grid Grid.Row="0" Background="#F5F5F5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="80"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Border Grid.Column="0" BorderBrush="#E0E0E0" BorderThickness="0,0,1,1" Padding="10">
                        <TextBlock Text="Horaire" FontWeight="SemiBold" FontSize="12"/>
                    </Border>

                    <Border Grid.Column="1" BorderBrush="#E0E0E0" BorderThickness="0,0,1,1" Padding="10">
                        <StackPanel>
                            <TextBlock x:Name="Day1Name" Text="LUN" FontWeight="Bold" FontSize="11"/>
                            <TextBlock x:Name="Day1Date" Text="" FontSize="10" Foreground="Gray"/>
                        </StackPanel>
                    </Border>

                    <Border Grid.Column="2" BorderBrush="#E0E0E0" BorderThickness="0,0,1,1" Padding="10">
                        <StackPanel>
                            <TextBlock x:Name="Day2Name" Text="MAR" FontWeight="Bold" FontSize="11"/>
                            <TextBlock x:Name="Day2Date" Text="" FontSize="10" Foreground="Gray"/>
                        </StackPanel>
                    </Border>

                    <Border Grid.Column="3" BorderBrush="#E0E0E0" BorderThickness="0,0,1,1" Padding="10">
                        <StackPanel>
                            <TextBlock x:Name="Day3Name" Text="MER" FontWeight="Bold" FontSize="11"/>
                            <TextBlock x:Name="Day3Date" Text="" FontSize="10" Foreground="Gray"/>
                        </StackPanel>
                    </Border>

                    <Border Grid.Column="4" BorderBrush="#E0E0E0" BorderThickness="0,0,1,1" Padding="10">
                        <StackPanel>
                            <TextBlock x:Name="Day4Name" Text="JEU" FontWeight="Bold" FontSize="11"/>
                            <TextBlock x:Name="Day4Date" Text="" FontSize="10" Foreground="Gray"/>
                        </StackPanel>
                    </Border>

                    <Border Grid.Column="5" BorderBrush="#E0E0E0" BorderThickness="0,0,1,1" Padding="10">
                        <StackPanel>
                            <TextBlock x:Name="Day5Name" Text="VEN" FontWeight="Bold" FontSize="11"/>
                            <TextBlock x:Name="Day5Date" Text="" FontSize="10" Foreground="Gray"/>
                        </StackPanel>
                    </Border>

                    <Border Grid.Column="6" BorderBrush="#E0E0E0" BorderThickness="0,0,1,1" Padding="10" Background="#FFFDE7">
                        <StackPanel>
                            <TextBlock x:Name="Day6Name" Text="SAM" FontWeight="Bold" FontSize="11" Foreground="#FF9800"/>
                            <TextBlock x:Name="Day6Date" Text="" FontSize="10" Foreground="Gray"/>
                        </StackPanel>
                    </Border>

                    <Border Grid.Column="7" BorderBrush="#E0E0E0" BorderThickness="0,0,0,1" Padding="10" Background="#FFFDE7">
                        <StackPanel>
                            <TextBlock x:Name="Day7Name" Text="DIM" FontWeight="Bold" FontSize="11" Foreground="#FF9800"/>
                            <TextBlock x:Name="Day7Date" Text="" FontSize="10" Foreground="Gray"/>
                        </StackPanel>
                    </Border>
                </Grid>

                <!-- Schedule Content -->
                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                    <Grid x:Name="ScheduleGrid">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="80"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="80"/>
                            <RowDefinition Height="80"/>
                            <RowDefinition Height="80"/>
                        </Grid.RowDefinitions>
                    </Grid>
                </ScrollViewer>
            </Grid>
        </materialDesign:Card>
    </Grid>
</Page>
